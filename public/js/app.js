webpackJsonp([1],{"+b4k":function(e,t){},0:function(e,t,n){e.exports=n("NHnr")},"2xzJ":function(e,t){},"3zyg":function(e,t){},"45fw":function(e,t){},"4QKy":function(e,t){},Jn6a:function(e,t){},M8Fe:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),r={name:"app"},o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],i=n("XyMi");function u(e){n("2xzJ")}var c=!1,l=u,p=null,v=null,m=Object(i["a"])(r,o,s,c,l,p,v),d=m.exports,f=n("/ocq"),h={name:"HeaderDefault",data:function(){return{nav:[{name:"home",text:"Home"},{name:"calendar",text:"Calendar"},{name:"directory",text:"Directory"},{name:"map",text:"Map"},{name:"pages",text:"Pages"},{name:"search",text:"Search"}]}},methods:{isObjectEmpty:function(e){return 0===Object.keys(e).length}}},g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("h1",[e._v("The Visualist")]),e.nav?n("ul",{attrs:{id:"primary-nav"}},e._l(e.nav,function(t){return n("li",{key:t.slug},[n("router-link",{attrs:{to:{name:t.name}}},[e._v(e._s(t.text))])],1)})):e._e(),n("ul",{attrs:{id:"user-nav"}},[this.$store.getters.loggedIn?n("li",[n("button",{staticClass:"link",attrs:{name:"logout"},on:{click:function(t){e.$store.dispatch("logout")}}},[e._v("Logout")])]):n("li",[n("router-link",{attrs:{to:{name:"login"}}},[e._v("Login")])],1)])])},_=[];function b(e){n("+b4k")}var y=!1,w=b,x="data-v-a994fac6",j=null,$=Object(i["a"])(h,g,_,y,w,x,j),E=$.exports,k={name:"FooterDefault"},O=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},S=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",[n("p",[e._v("This is the footer")])])}];function L(e){n("M8Fe")}var P=!1,C=L,N="data-v-98ffefdc",R=null,z=Object(i["a"])(k,O,S,P,C,N,R),D=z.exports,A={name:"Layout",components:{HeaderDefault:E,FooterDefault:D}},F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"layout"},[n("header-default"),n("main",[e._t("default")],2),n("footer-default")],1)},M=[];function H(e){n("qn79")}var J=!1,q=H,U="data-v-575aa2b1",T=null,Y=Object(i["a"])(A,F,M,J,q,U,T),X=Y.exports,G={name:"Home",components:{Layout:X}},I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("layout",{attrs:{id:"home"}},[n("h2",[e._v("Welcome to the Visualist")])])},K=[];function Q(e){n("iYzr")}var V=!1,W=Q,B="data-v-0456f12d",Z=null,ee=Object(i["a"])(G,I,K,V,W,B,Z),te=ee.exports,ne={name:"Map",components:{Layout:X}},ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("layout",{attrs:{id:"map"}},[n("h2",[e._v("Map")])])},re=[];function oe(e){n("4QKy")}var se=!1,ie=oe,ue="data-v-197fb86c",ce=null,le=Object(i["a"])(ne,ae,re,se,ie,ue,ce),pe=le.exports,ve={name:"EventAdd",data:function(){return{event:{type:"events",attributes:{name:"",body:""}}}},computed:{eventSerialized:function(){return this.event}}},me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"event-add"},[n("h3",[e._v("Add Event")]),n("div",[n("label",{attrs:{for:"event-name"}},[e._v("Name ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.event.attributes.name,expression:"event.attributes.name"}],attrs:{type:"text",name:"event-name",placeholder:"Provide a name for this Event"},domProps:{value:e.event.attributes.name},on:{input:function(t){t.target.composing||e.$set(e.event.attributes,"name",t.target.value)}}})]),n("div",[n("label",{attrs:{for:"event-body"}},[e._v("Body ")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.event.attributes.body,expression:"event.attributes.body"}],attrs:{name:"event-body",rows:"5",placeholder:"Provide a description for this Event"},domProps:{value:e.event.attributes.body},on:{input:function(t){t.target.composing||e.$set(e.event.attributes,"body",t.target.value)}}})]),n("button",{attrs:{name:"user-button"},on:{click:function(t){e.$store.dispatch("eventCreate",e.eventSerialized)}}},[e._v("Submit")])])},de=[];function fe(e){n("Jn6a")}var he=!1,ge=fe,_e="data-v-4a09d13a",be=null,ye=Object(i["a"])(ve,me,de,he,ge,_e,be),we=ye.exports,xe={name:"Calendar",components:{Layout:X,EventAdd:we},created:function(){this.$store.dispatch("eventsFetch")},computed:{events:function(){return this.$store.state.events}}},je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("layout",{attrs:{id:"calendar"}},[n("h2",[e._v("Calendar")]),e.events&&e.events.length>0?n("ul",e._l(e.events,function(t){return n("li",{key:t.attributes.slug},[e._v(e._s(t.attributes.name))])})):n("p",[e._v("No events are available.")]),n("event-add")],1)},$e=[];function Ee(e){n("45fw")}var ke=!1,Oe=Ee,Se="data-v-ecb553c4",Le=null,Pe=Object(i["a"])(xe,je,$e,ke,Oe,Se,Le),Ce=Pe.exports,Ne={name:"Directory",components:{Layout:X}},Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("layout",{attrs:{id:"directory"}},[n("h2",[e._v("Directory")])])},ze=[];function De(e){n("PqHR")}var Ae=!1,Fe=De,Me="data-v-e0b849e8",He=null,Je=Object(i["a"])(Ne,Re,ze,Ae,Fe,Me,He),qe=Je.exports,Ue={name:"Pages",components:{Layout:X},created:function(){this.$store.dispatch("pagesFetch")},computed:{pages:function(){return this.$store.state.pages}}},Te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("layout",{attrs:{id:"pages"}},[n("h2",[e._v("Pages")]),e.pages.length>0?n("ul",e._l(e.pages,function(t){return n("li",{key:t.attributes.slug},[e._v(e._s(t.attributes.title))])})):n("p",[e._v("No pages are available.  Please login.")])])},Ye=[];function Xe(e){n("awyg")}var Ge=!1,Ie=Xe,Ke="data-v-d6236bb2",Qe=null,Ve=Object(i["a"])(Ue,Te,Ye,Ge,Ie,Ke,Qe),We=Ve.exports,Be={name:"Login",components:{Layout:X},data:function(){return{user:{email:"",password:""}}}},Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("layout",{attrs:{id:"login"}},[n("h2",[e._v("Login")]),n("div",[n("label",{attrs:{for:"user-email"}},[e._v("User Email ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{name:"user-email",type:"email",placeholder:"User email",required:""},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}})]),n("div",[n("label",{attrs:{for:"user-password"}},[e._v("Password ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{name:"user-password",type:"password",placeholder:"Password",required:""},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})]),n("button",{attrs:{name:"user-button"},on:{click:function(t){e.$store.dispatch("login",e.user)}}},[e._v("Submit")])])},et=[];function tt(e){n("3zyg")}var nt=!1,at=tt,rt="data-v-402366d6",ot=null,st=Object(i["a"])(Be,Ze,et,nt,at,rt,ot),it=st.exports,ut={name:"Search",components:{Layout:X}},ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("layout",{attrs:{id:"login"}},[n("h2",[e._v("Search")])])},lt=[];function pt(e){n("at/M")}var vt=!1,mt=pt,dt="data-v-0a0298be",ft=null,ht=Object(i["a"])(ut,ct,lt,vt,mt,dt,ft),gt=ht.exports,_t={name:"Error404",components:{Layout:X}},bt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("layout",{attrs:{id:"error-404"}},[n("h2",[e._v("Error 404")])])},yt=[];function wt(e){n("OryY")}var xt=!1,jt=wt,$t="data-v-606da5d5",Et=null,kt=Object(i["a"])(_t,bt,yt,xt,jt,$t,Et),Ot=kt.exports,St={name:"Error500",components:{Layout:X}},Lt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("layout",{attrs:{id:"error-500"}},[n("h2",[e._v("Error 500")])])},Pt=[];function Ct(e){n("Xj5D")}var Nt=!1,Rt=Ct,zt="data-v-76d46555",Dt=null,At=Object(i["a"])(St,Lt,Pt,Nt,Rt,zt,Dt),Ft=At.exports;a["a"].use(f["a"]);var Mt=new f["a"]({routes:[{path:"/",name:"home",component:te},{path:"/map",name:"map",component:pe},{path:"/calendar",name:"calendar",component:Ce},{path:"/directory",name:"directory",component:qe},{path:"/pages",name:"pages",component:We},{path:"/search",name:"search",component:gt},{path:"/login",name:"login",component:it},{path:"/404",name:"error404",component:Ot},{path:"/500",name:"error500",component:Ft}]}),Ht=(n("SldL"),n("7hDC")),Jt=n.n(Ht),qt=n("NYxO"),Ut=n("GG98"),Tt=n.n(Ut);a["a"].use(qt["a"]);var Yt=new qt["a"].Store({state:{apiUrl:function(){var e=window.location.protocol,t=window.location.hostname,n=window.location.port;return"".concat(e,"//").concat(t,":").concat(n)}(),pages:[],events:[],user:{jwt:""}},mutations:{login:function(e,t){e.user.jwt=t},logout:function(e){e.user={jwt:""}},pagesSet:function(e,t){e.pages=t},eventsSet:function(e,t){e.events=t}},getters:{loggedIn:function(e){return!!(e.user.jwt&&e.user.jwt.length>0)}},actions:{login:function(){var e=Jt()(regeneratorRuntime.mark(function e(t,n){var a,r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="".concat(t.rootState.apiUrl,"/user_token"),e.prev=1,e.next=4,Tt.a.post(a).set("Content-Type","application/json").send({auth:{email:n.email,password:n.password}});case 4:r=e.sent,o=JSON.parse(r.text),t.commit("login",o.jwt),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.error(e.t0);case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(t,n){return e.apply(this,arguments)}}(),logout:function(){var e=Jt()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.commit("logout");case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),pagesFetch:function(){var e=Jt()(regeneratorRuntime.mark(function e(t){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="".concat(t.rootState.apiUrl,"/pages"),e.prev=1,e.next=4,Tt.a.get(n).set("Authorization",t.rootState.user.jwt);case 4:a=e.sent,t.commit("pagesSet",JSON.parse(a.text).data),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.error(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),eventsFetch:function(){var e=Jt()(regeneratorRuntime.mark(function e(t){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="".concat(t.rootState.apiUrl,"/events"),e.prev=1,e.next=4,Tt.a.get(n).set("Content-Type","application/vnd.api+json").set("Authorization",t.rootState.user.jwt);case 4:a=e.sent,console.log("events fetched",a.statusCode),t.commit("eventsSet",JSON.parse(a.text).data),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.error(e.t0);case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),eventCreate:function(){var e=Jt()(regeneratorRuntime.mark(function e(t,n){var a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="".concat(t.rootState.apiUrl,"/events"),e.prev=1,e.next=4,Tt.a.post(a).send({data:n}).set("Content-Type","application/vnd.api+json").set("Accept","application/vnd.api+json").set("Authorization",t.rootState.user.jwt);case 4:r=e.sent,console.log("event posted",r.statusCode),t.dispatch("eventsFetch"),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.error(e.t0);case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(t,n){return e.apply(this,arguments)}}()}});a["a"].config.productionTip=!1,new a["a"]({el:"#app",router:Mt,store:Yt,template:"<App/>",components:{App:d}})},OryY:function(e,t){},PqHR:function(e,t){},Xj5D:function(e,t){},"at/M":function(e,t){},awyg:function(e,t){},iYzr:function(e,t){},qn79:function(e,t){}},[0]);
//# sourceMappingURL=app.js.map