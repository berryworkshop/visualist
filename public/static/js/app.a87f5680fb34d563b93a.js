webpackJsonp([1],{"1nn7":function(e,t){},"99eJ":function(e,t){},Bn5A:function(e,t){},GtKH:function(e,t){},JNih:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]},o=n("VU/8")({name:"app"},r,!1,function(e){n("qins")},null,null).exports,s=n("/ocq"),i=n("fZjL"),c=n.n(i),u={name:"HeaderDefault",data:function(){return{nav:[{name:"Home",text:"Home"},{name:"Calendar",text:"Calendar"},{name:"Directory",text:"Directory"},{name:"Map",text:"Map"},{name:"Pages",text:"Pages"},{name:"Search",text:"Search"}]}},methods:{isObjectEmpty:function(e){return 0===c()(e).length}}},l={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("h1",[e._v("The Visualist")]),e._v(" "),e.nav?n("ul",{attrs:{id:"primary-nav"}},e._l(e.nav,function(t){return n("li",[n("router-link",{attrs:{to:{name:t.name}}},[e._v(e._s(t.text))])],1)})):e._e(),e._v(" "),n("ul",{attrs:{id:"user-nav"}},[this.$store.getters.loggedIn?n("li",[n("button",{staticClass:"link",attrs:{name:"logout"},on:{click:function(t){e.$store.dispatch("logout")}}},[e._v("Logout")])]):n("li",[n("router-link",{attrs:{to:{name:"Login"}}},[e._v("Login")])],1)])])},staticRenderFns:[]},d={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("footer",[t("p",[this._v("This is the footer")])])}]},p={name:"Layout",components:{HeaderDefault:n("VU/8")(u,l,!1,function(e){n("GtKH")},"data-v-5bc10e76",null).exports,FooterDefault:n("VU/8")({name:"FooterDefault"},d,!1,function(e){n("zb87")},"data-v-191d8b56",null).exports}},v={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"layout"},[t("header-default"),this._v(" "),t("main",[this._t("default")],2),this._v(" "),t("footer-default")],1)},staticRenderFns:[]},m=n("VU/8")(p,v,!1,function(e){n("dt9G")},"data-v-02d13dd2",null).exports,f={name:"Home",components:{Layout:m}},h={render:function(){var e=this.$createElement,t=this._self._c||e;return t("layout",{attrs:{id:"home"}},[t("h2",[this._v("Welcome to the Visualist")])])},staticRenderFns:[]},_=n("VU/8")(f,h,!1,function(e){n("WC/f")},"data-v-e6a166ee",null).exports,g={name:"Map",components:{Layout:m}},w={render:function(){var e=this.$createElement,t=this._self._c||e;return t("layout",{attrs:{id:"map"}},[t("h2",[this._v("Map")])])},staticRenderFns:[]},x=n("VU/8")(g,w,!1,function(e){n("JNih")},"data-v-7ce8e810",null).exports,y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"event-add"},[n("h3",[e._v("Add Event")]),e._v(" "),n("div",[n("label",{attrs:{for:"event-name"}},[e._v("Name ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.event.attributes.name,expression:"event.attributes.name"}],attrs:{type:"text",name:"event-name",placeholder:"Provide a name for this Event"},domProps:{value:e.event.attributes.name},on:{input:function(t){t.target.composing||e.$set(e.event.attributes,"name",t.target.value)}}})]),e._v(" "),n("div",[n("label",{attrs:{for:"event-body"}},[e._v("Body ")]),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.event.attributes.body,expression:"event.attributes.body"}],attrs:{name:"event-body",rows:"5",placeholder:"Provide a description for this Event"},domProps:{value:e.event.attributes.body},on:{input:function(t){t.target.composing||e.$set(e.event.attributes,"body",t.target.value)}}})]),e._v(" "),n("button",{attrs:{name:"user-button"},on:{click:function(t){e.$store.dispatch("eventCreate",e.eventSerialized)}}},[e._v("Submit")])])},staticRenderFns:[]},b={name:"Calendar",components:{Layout:m,EventAdd:n("VU/8")({name:"EventAdd",data:function(){return{event:{type:"events",attributes:{name:"",body:""}}}},computed:{eventSerialized:function(){return this.event}}},y,!1,function(e){n("rH2r")},"data-v-7b884711",null).exports},created:function(){this.$store.dispatch("eventsFetch")},computed:{events:function(){return this.$store.state.events}}},E={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("layout",{attrs:{id:"calendar"}},[n("h2",[e._v("Calendar")]),e._v(" "),e.events&&e.events.length>0?n("ul",e._l(e.events,function(t){return n("li",[e._v(e._s(t.attributes.name))])})):n("p",[e._v("No events are available.")]),e._v(" "),n("event-add")],1)},staticRenderFns:[]},$=n("VU/8")(b,E,!1,function(e){n("99eJ")},"data-v-3d1f123e",null).exports,S={name:"Directory",components:{Layout:m}},F={render:function(){var e=this.$createElement,t=this._self._c||e;return t("layout",{attrs:{id:"directory"}},[t("h2",[this._v("Directory")])])},staticRenderFns:[]},U=n("VU/8")(S,F,!1,function(e){n("S0Mh")},"data-v-52d23712",null).exports,k={name:"Pages",components:{Layout:m},created:function(){this.$store.dispatch("pagesFetch")},computed:{pages:function(){return this.$store.state.pages}}},C={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("layout",{attrs:{id:"pages"}},[n("h2",[e._v("Pages")]),e._v(" "),e.pages.length>0?n("ul",e._l(e.pages,function(t){return n("li",[e._v(e._s(t.attributes.title))])})):n("p",[e._v("No pages are available.  Please login.")])])},staticRenderFns:[]},L=n("VU/8")(k,C,!1,function(e){n("Bn5A")},"data-v-46066233",null).exports,N={name:"Login",components:{Layout:m},data:function(){return{user:{email:"",password:""}}}},j={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("layout",{attrs:{id:"login"}},[n("h2",[e._v("Login")]),e._v(" "),n("div",[n("label",{attrs:{for:"user-email"}},[e._v("User Email ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{name:"user-email",type:"email",placeholder:"User email",required:""},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}})]),e._v(" "),n("div",[n("label",{attrs:{for:"user-password"}},[e._v("Password ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{name:"user-password",type:"password",placeholder:"Password",required:""},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})]),e._v(" "),n("button",{attrs:{name:"user-button"},on:{click:function(t){e.$store.dispatch("login",e.user)}}},[e._v("Submit")])])},staticRenderFns:[]},V=n("VU/8")(N,j,!1,function(e){n("gd7K")},"data-v-b290ceec",null).exports,P={name:"Search",components:{Layout:m}},R={render:function(){var e=this.$createElement,t=this._self._c||e;return t("layout",{attrs:{id:"login"}},[t("h2",[this._v("Search")])])},staticRenderFns:[]},H=n("VU/8")(P,R,!1,function(e){n("1nn7")},"data-v-08531f3d",null).exports,A={name:"Error404",components:{Layout:m}},D={render:function(){var e=this.$createElement,t=this._self._c||e;return t("layout",{attrs:{id:"error-404"}},[t("h2",[this._v("Error 404")])])},staticRenderFns:[]},J=n("VU/8")(A,D,!1,function(e){n("acON")},"data-v-1f223c9e",null).exports,M={name:"Error500",components:{Layout:m}},O={render:function(){var e=this.$createElement,t=this._self._c||e;return t("layout",{attrs:{id:"error-500"}},[t("h2",[this._v("Error 500")])])},staticRenderFns:[]},W=n("VU/8")(M,O,!1,function(e){n("wxWW")},"data-v-0823c131",null).exports;a.a.use(s.a);var z=new s.a({routes:[{path:"/",name:"Home",component:_},{path:"/map",name:"Map",component:x},{path:"/calendar",name:"Calendar",component:$},{path:"/directory",name:"Directory",component:U},{path:"/pages",name:"Pages",component:L},{path:"/search",name:"Search",component:H},{path:"/login",name:"Login",component:V},{path:"/404",name:"Error404",component:J},{path:"/500",name:"Error500",component:W}]}),G=n("Xxa5"),T=n.n(G),q=n("exGp"),K=n.n(q),B=n("NYxO"),I=n("GG98"),X=n.n(I);a.a.use(B.a);var Y=new B.a.Store({state:{apiUrl:window.location.protocol+"//"+window.location.hostname+":"+window.location.port,pages:[],events:[],user:{jwt:""}},mutations:{login:function(e,t){e.user.jwt=t},logout:function(e){e.user={jwt:""}},pagesSet:function(e,t){e.pages=t},eventsSet:function(e,t){e.events=t}},getters:{loggedIn:function(e){return!!(e.user.jwt&&e.user.jwt.length>0)}},actions:{login:function(e,t){var n=this;return K()(T.a.mark(function a(){var r,o,s;return T.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.rootState.apiUrl+"/user_token",n.prev=1,n.next=4,X.a.post(r).set("Content-Type","application/json").send({auth:{email:t.email,password:t.password}});case 4:o=n.sent,s=JSON.parse(o.text),e.commit("login",s.jwt),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.error(n.t0);case 12:case"end":return n.stop()}},a,n,[[1,9]])}))()},logout:function(e){var t=this;return K()(T.a.mark(function n(){return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.commit("logout");case 1:case"end":return t.stop()}},n,t)}))()},pagesFetch:function(e){var t=this;return K()(T.a.mark(function n(){var a,r;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.rootState.apiUrl+"/pages",t.prev=1,t.next=4,X.a.get(a).set("Authorization",e.rootState.user.jwt);case 4:r=t.sent,e.commit("pagesSet",JSON.parse(r.text).data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0);case 11:case"end":return t.stop()}},n,t,[[1,8]])}))()},eventsFetch:function(e){var t=this;return K()(T.a.mark(function n(){var a,r;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.rootState.apiUrl+"/events",t.prev=1,t.next=4,X.a.get(a).set("Content-Type","application/vnd.api+json").set("Authorization",e.rootState.user.jwt);case 4:r=t.sent,console.log("events fetched",r.statusCode),e.commit("eventsSet",JSON.parse(r.text).data),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0);case 12:case"end":return t.stop()}},n,t,[[1,9]])}))()},eventCreate:function(e,t){var n=this;return K()(T.a.mark(function a(){var r,o;return T.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.rootState.apiUrl+"/events",n.prev=1,n.next=4,X.a.post(r).send({data:t}).set("Content-Type","application/vnd.api+json").set("Accept","application/vnd.api+json").set("Authorization",e.rootState.user.jwt);case 4:o=n.sent,console.log("event posted",o.statusCode),e.dispatch("eventsFetch"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.error(n.t0);case 12:case"end":return n.stop()}},a,n,[[1,9]])}))()}}});a.a.config.productionTip=!1,new a.a({el:"#app",router:z,store:Y,template:"<App/>",components:{App:o}})},S0Mh:function(e,t){},"WC/f":function(e,t){},acON:function(e,t){},dt9G:function(e,t){},gd7K:function(e,t){},qins:function(e,t){},rH2r:function(e,t){},wxWW:function(e,t){},zb87:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.a87f5680fb34d563b93a.js.map